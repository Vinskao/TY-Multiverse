---
import { getCollection } from "astro:content";

import BaseLayout from "../layouts/BaseLayout.astro";

import Hero from "../components/Hero.astro";

const projects = (await getCollection("work")).sort(
  (a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf()
);
---

<!DOCTYPE html>
<meta charset="UTF-8" />
<html>
  <head>
    <style>
      main.wrapper {
        margin: 5%;
        padding: 0;
        max-width: 100%;
      }

      main.wrapper .stack {
        gap: 10px;
      }

      .overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 999;
      }

      #cardImages {
        display: flex;
        flex-wrap: nowrap;
        overflow: auto;
      }
    </style>
  </head>
  <body>
    <BaseLayout
      title="Palais | Wavo Yuropha"
      description="Learn about TY's most recent projects"
    >
      <div class="stack gap-20">
        <main class="wrapper stack gap-8">
          <Hero
            title="Palais"
            tagline="Welcome to Lily Palais."
            align="start"
          />
          <h1>八食</h1>
          <h1>初桑</h1>
          <h1>肆門</h1>
          <h1>Phénix</h1>
          <h1>Buse</h1>
          <h1>家累</h1>
          <h1>塵民</h1>
          <h1>古女</h1>
          <h1>獄女</h1>
          <div id="buttoms">
            <button id="shuffleButton" onclick="shuffle()">洗牌</button>
            <button id="getHagisunButton" onclick="getHagisun()"
              >八食戰隊</button
            >
            <button id="stand" onclick="soraneGetCards()">初桑戰隊</button>
          </div>
          <h2>八食戰隊:</h2>
          <div id="system">
            <div id="cardImages"></div>
            <div id="output"></div>
            <div id="settle"></div>
          </div>
          <h2>初桑戰隊:</h2>
          <div id="system">
            <div id="cardImagesSorane"></div>
            <div id="outputSorane"></div>
          </div>
          <!-- <div class="image-container">
            <img alt="Wavo" src="/assets/Wavo.png" />
            <img alt="Chiaki" src="/assets/Chiaki.png" />
            <img alt="Sayuri" src="/assets/Sayuri.png" />
            <img alt="Hitomi" src="/assets/Hitomi.png" />
            <img alt="Akimoto_Yuko" src="/assets/Akimoto_Yuko.png" />
            <img alt="Etsuko" src="/assets/Etsuko.png" />
            <img alt="Masako" src="/assets/Masako.png" />
          </div>

          <div class="image-container">
            <img alt="Médicis_Monroe" src="/assets/Médicis_Monroe.png" />
          </div>

          <div class="image-container">
            <img alt="Sorane" src="/assets/Sorane.png" />
            <img alt="Kyu" src="/assets/Kyu.png" />
            <img alt="Riuri" src="/assets/Riuri.png" />
            <img alt="Natsumi" src="/assets/Natsumi.png" />
            <img alt="Kamira" src="/assets/Kamira.png" />
            <img alt="Kazuko" src="/assets/Kazuko.png" />
            <img alt="Miyu" src="/assets/Miyu.png" />
            <img alt="Valmet" src="/assets/Valmet.png" />
            <img alt="Mayo" src="/assets/Mayo.png" />
          </div>

          <div class="image-container">
            <img alt="samui" src="/assets/Samui.png" />
            <img alt="Paprika" src="/assets/Paprika.png" />
            <img alt="Caleigh" src="/assets/Caleigh.png" />
            <img alt="Doire_Evewch" src="/assets/Doire_Evewch.png" />
            <img alt="Z" src="/assets/Z.png" />
            <img alt="Branwen" src="/assets/Branwen.png" />
            <img alt="Lucrece_Yurophas" src="/assets/Lucrece_Yurophas.png" />
            <img alt="Uiobbeci" src="/assets/Uiobbeci.png" />
            <img alt="Draeny_Chevrem" src="/assets/Draeny_Chevrem.png" />
            <img alt="Nianca_K794" src="/assets/Nianca_K794.png" />
            <img alt="Yui" src="/assets/Yui.png" />
            <img alt="Yui" src="/assets/Mesoyei.png" />
          </div> -->
        </main>
      </div>
    </BaseLayout>

    <!-- 全屏遮罩 -->

    <div class="overlay" id="passwordOverlay">
      <script>
        var isAuthenticated = false;

        if (!isAuthenticated) {
          var password = prompt("請輸入密碼", "");
          if (password === "1") {
            isAuthenticated = true;
            document.getElementById("passwordOverlay").style.display = "none";
          } else {
            alert("請再輸入一次密碼");
            location.href = "examples/javascript/16ex2.html";
          }
        }
      </script>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var imageNames = [
          "Wavo.png",
          "Chiaki.png",
          "Sayuri.png",
          "Hitomi.png",
          "Akimoto_Yuko.png",
          "Etsuko.png",
          "Masako.png",
          "Médicis_Monroe.png",
          "Sorane.png",
          "Kyu.png",
          "Riuri.png",
          "Natsumi.png",
          "Kamira.png",
          "Kazuko.png",
          "Miyu.png",
          "Valmet.png",
          "Mayo.png",
          "Samui.png",
          "Paprika.png",
          "Caleigh.png",
          "Doire_Evewch.png",
          "Z.png",
          "Branwen.png",
          "Lucrece_Yurophas.png",
          "Uiobbeci.png",
          "Draeny_Chevrem.png",
          "Nianca_K794.png",
          "Yui.png",
          "Mesoyei.png",
        ];
        var randomIndex = getRandomIndex();

        function getRandomIndex() {
          return Math.floor(Math.random() * imageNames.length);
        }
        function displayRandomImage(imageNames, containerId) {
          var randomIndex = Math.floor(Math.random() * imageNames.length);
          var selectedImageName = imageNames[randomIndex];
          var imageUrl = `/assets/${selectedImageName}`;

          var imageContainer = document.getElementById(containerId);
          var image = document.createElement("img");
          image.src = imageUrl;
          image.alt = "Card";
          image.style.width = "120px";
          image.style.height = "auto";
          image.style.marginRight = "10px";
          imageContainer.appendChild(image);
        }

        var containerId = "cardImages";

        function getHagisun() {
          var cardImagesContainer = document.getElementById(containerId);
          cardImagesContainer.innerHTML = "";

          var availableImages = imageNames.slice();

          for (var i = 0; i < 8; i++) {
            var randomIndex = Math.floor(
              Math.random() * availableImages.length
            );
            var selectedImageName = availableImages[randomIndex];
            availableImages.splice(randomIndex, 1);

            var imageUrl = `/assets/${selectedImageName}`;
            var imageContainer = document.getElementById(containerId);
            var image = document.createElement("img");
            image.src = imageUrl;
            image.alt = "Card";
            image.style.width = "200px";
            image.style.height = "auto";
            image.style.marginRight = "-95px";
            imageContainer.appendChild(image);
          }
        }

        var getHagisunButton = document.getElementById("getHagisunButton");

        getHagisunButton.addEventListener("click", function () {
          getHagisun();
        });
      });
    </script>
  </body>
</html>
